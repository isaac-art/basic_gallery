{"version":3,"sources":["webpack:///src/components/LiveNFT.vue","webpack:///./src/components/LiveNFT.vue?7788","webpack:///./src/components/LiveNFT.vue","webpack:///src/App.vue","webpack:///./src/App.vue?3068","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["LiveNFT","name","data","ubg_address","ubi_address","ubg_abi","ubi_abi","ubg","costdeci","cost","tokenURI","image","lastUpdate","idx","description","approved","approveText","displayText","new_nft_id","new_nft_address","prev","logs","connected","tally","mounted","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","next","window","ethereum","enable","lib_esm","providers","Web3Provider","provider","sent","InfuraProvider","ubiContract","Contract","ubgContract","getActiveTokenLoop","stop","methods","connectWallet","_this2","_callee2","_context2","console","log","getSigner","signer","ubiWithSigner","connect","ubgWithSigner","checkUBIApproved","_this3","_callee3","_context3","getAddress","then","address","allowance","eq","approveUBI","_this4","_callee4","_context4","approve","res","displayNewNFT","_this5","_callee5","_context5","display","catch","err","getLogs","_this6","_callee6","_context6","queryFilter","_this7","_callee8","_context8","activeNFTindex","t0","utils","t1","formatEther","call","substring","isIPFS","replace","axios_default","get","_ref","_callee7","im","_context7","abrupt","_x","apply","arguments","error","setTimeout","components_LiveNFT","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","_e","_v","_s","on","click","$event","id","for","directives","rawName","value","expression","type","placeholder","domProps","input","target","composing","_m","_l","blockNumber","args","toString","staticRenderFns","App","components","__webpack_require__","normalizeComponent","ssrContext","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","Vue","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.658c77881eb1a0d003bb.js","sourcesContent":["<template>\n  <div class=\"hello\">\n    <img v-if=\"image\" :src=\"image\">\n    <h1>{{name}} <span v-if=\"idx\">#{{idx}}</span></h1>\n    <p v-if=\"description\" class=\"description\">{{description}}</p>\n    <br>\n    <hr>\n    <br>\n    <p>The artwork on display can be changed by burning UBI tokens via the gallery contract.<br><br> \n    The price will increase by 24 UBI with each new display, and half every 24 hours.<br><br>\n    Click below to approve burning UBI with the gallery contract, and then choose a new NFT to display for a cost of <span v-if=\"cost\">{{cost}}</span><span v-else>...</span> UBI. <br><br>\n    \n    </p>\n\n    <div v-if=\"connected == false\">\n      <button @click=\"connectWallet()\">CONNECT WALLET</button>\n    </div>\n    <div id=\"displayWindow\" v-else>\n\n      <button v-if=\"approved == false\" @click=\"approveUBI()\">{{approveText}}</button>\n\n      <div v-else>\n        <label for=\"nft_address\" >NFT Address</label>\n        <input id=\"nft_address\"  v-model=\"new_nft_address\" type=\"text\" placeholder=\"0x...\">\n        <br>\n        <label for=\"nft_id\">NFT Number</label>\n        <input id=\"nft_id\"  v-model=\"new_nft_id\" type=\"number\" placeholder=\"0\">\n        <br>\n        <button @click=\"displayNewNFT()\">{{displayText}}</button>\n      </div>\n    </div>\n    <br>\n    <br>\n    <hr>\n    <br><br>\n    <i>UNIVERSAL BASIC GALLERY HAS BURNT {{tally/24}} DAYS OF UBI</i>\n    <br><br><br>\n    <table>\n      <thead>\n        <th>Block</th>\n        <!-- <th>Sender</th> -->\n        <th>NFT Address</th>\n        <th>NFT ID</th>\n      </thead>\n      <tbody>\n        <tr v-for=\"log in logs\">\n          <td>{{log.blockNumber}}</td>\n          <!-- <td>{{log.args[0]}}</td> -->\n          <td>{{log.args[1]}}</td>\n          <td>{{log.args[2].toString()}}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport { ethers } from \"ethers\";\nimport axios from 'axios';\n\nexport default {\n  name: 'LiveNFT',\n  data () {\n    return {\n      ubg_address: \"0x45527f75E9e69900Dd1A9C9e8af1240D4C5C9E89\",\n      ubi_address: \"0xdd1ad9a21ce722c151a836373babe42c868ce9a4\",\n      ubg_abi: [\n          \"event Displaying(address _sender, address _nft, uint256 index)\",\n          \"function activeNFTindex() public view returns (uint256)\",\n          \"function lastUpdate() public view returns (uint256)\",\n          \"function cost() public view returns (uint256)\",\n          \"function display(address _add, uint256 _idx) external\",\n          \"function tally() public view returns (uint256)\",\n          \"function name() public view returns (string memory)\",\n          \"function symbol() public view returns (string memory)\",\n          \"function tokenURI(uint256 tokenId) public view returns (string memory)\",\n          \"function burnPaymentToken() external\",\n          \"function updatePrice() external\",\n      ],\n      ubi_abi : [\n        \"function approve(address _spender, uint256 _amount) public returns (bool)\",\n        \"function allowance(address _sender, address _spender) public view returns (uint256)\"\n      ],\n      ubg: false,\n      name: \"\",\n      costdeci: false,\n      cost: false,\n      tokenURI: false,\n      image: false,\n      lastUpdate: false,\n      idx: false,\n      description: false,\n      approved: false,\n      approveText: \"APPROVE UBI\",\n      displayText: \"DISPLAY NFT\",\n      new_nft_id: null,\n      new_nft_address: '',\n      prev: '',\n      logs: false,\n      connected: false,\n      tally:0\n    }\n  },\n  async mounted(){\n    window.ethereum.enable()\n    this.provider = await new ethers.providers.Web3Provider(window.ethereum)\n\n    this.provider = new ethers.providers.InfuraProvider(\"mainnet\")\n    this.ubiContract = new ethers.Contract(this.ubi_address, this.ubi_abi, this.provider)\n    // this.ubiWithSigner = this.ubiContract.connect(this.signer)\n    this.ubgContract = new ethers.Contract(this.ubg_address, this.ubg_abi, this.provider)\n    // this.ubgWithSigner = this.ubgContract.connect(this.signer)\n    // console.log(this.provider)\n    // console.log(this.ubg)\n    this.getActiveTokenLoop()\n  },\n  methods: {\n    async connectWallet(){\n      console.log(\"connecting to mm\")\n       window.ethereum.enable()\n      this.provider = await new ethers.providers.Web3Provider(window.ethereum)\n      this.signer = await this.provider.getSigner()\n      // console.log(this.signer)\n      // this.provider = new ethers.providers.InfuraProvider(\"mainnet\")\n      this.ubiContract = new ethers.Contract(this.ubi_address, this.ubi_abi, this.provider)\n      this.ubiWithSigner = this.ubiContract.connect(this.signer)\n      this.ubgContract = new ethers.Contract(this.ubg_address, this.ubg_abi, this.provider)\n      this.ubgWithSigner = this.ubgContract.connect(this.signer)\n      this.connected = true\n    },\n    async checkUBIApproved(){\n      this.signer.getAddress()\n        .then(address => this.ubiContract.allowance(address, this.ubg_address)\n          .then(allowance => {\n            // console.log(allowance, this.costdeci)\n            if(allowance.eq(this.costdeci)){\n              this.approved = true\n            }\n          })\n        )\n    },\n    async approveUBI(){\n      this.approveText = \"APPROVING\"\n      this.ubiWithSigner.approve(this.ubg_address, this.costdeci)\n        .then(res =>{\n          this.checkUBIApproved()\n        })\n    },\n    async displayNewNFT(){\n      this.displayText = \"UPDATING\"\n      this.ubgWithSigner.display(this.new_nft_address, this.new_nft_id)\n          .then(res => {\n            console.log(res)\n          })\n          .catch(err => {\n            console.log(err)\n          })\n    },\n    async getLogs(){ \n      this.logs = await this.ubgContract.queryFilter('Displaying', 12800929, 'latest')\n        .then(res=>{\n          console.log(res)\n          return res\n        })\n    },\n    async getActiveTokenLoop(){\n      this.name = await this.ubgContract.name()\n      if(this.name != this.prev){\n        this.getLogs()\n        this.idx = await this.ubgContract.activeNFTindex()\n        this.tokenURI = await this.ubgContract.tokenURI(0) \n        this.costdeci = await this.ubgContract.cost()\n        this.tally = ethers.utils.formatEther(await this.ubgContract.tally())\n        this.cost = ethers.utils.formatEther(this.costdeci)\n        this.lastUpdate = await this.ubgContract.lastUpdate()\n\n        if(this.connected){this.checkUBIApproved()}\n        \n\n        if(this.tokenURI.substring(0, 7) == 'ipfs://'){\n          this.isIPFS = true\n          this.tokenURI = this.tokenURI.replace('ipfs://', 'https://ipfs.io/ipfs/')\n        }\n        console.log(\"loading metadata\", this.tokenURI)\n        let response = await axios.get(this.tokenURI)\n          .then(async(res) => {\n              console.log(res.data)\n              if(this.isIPFS){\n                let im = res.data.image.replace('ipfs://', '')\n                this.image = \"https://ipfs.io/ipfs/\"+im\n              }else{\n                this.image = res.data.image\n              }\n              this.description = res.data.description\n              if(typeof res.data.name != 'undefined' && \n                 typeof res.data.description == 'undefined' ){\n                this.description = res.data.name\n              }\n              return res\n          })\n          .catch((error)=>{\n              console.log(error)\n              return false\n          })\n        \n        this.prev = this.name\n      }else{\n        console.log(\"no change\")\n      }\n      \n      setTimeout(this.getActiveTokenLoop, 14000)\n      // this.ubgContract.on(\"Displaying\", (sender, nft, idx) => {\n      //     console.log(sender, nft, idx);\n      //     this.getActiveTokenLoop()\n      // });\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.description {\n  text-align: justify;\n  padding-left: 20px;\n  padding-right: 20px;\n}\n\n.hello{\n  text-align: center;\n  margin: 0 auto;\n  padding-top: 50px;\n  width: 100%;\n  max-width: 600px;\n}\n\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\nimg {\n  width: 100%;\n  max-width: 400px;\n  /*margin: 50px;*/\n  margin-top: 80px;\n  margin-bottom: 80px;\n}\n\ntable {\n  text-align: center;\n  width: 100%;\n}\ntr {\n  max-width: 100%;\n}\ntd {\n  max-width: 30%;\n  overflow: scroll;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/LiveNFT.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[(_vm.image)?_c('img',{attrs:{\"src\":_vm.image}}):_vm._e(),_vm._v(\" \"),_c('h1',[_vm._v(_vm._s(_vm.name)+\" \"),(_vm.idx)?_c('span',[_vm._v(\"#\"+_vm._s(_vm.idx))]):_vm._e()]),_vm._v(\" \"),(_vm.description)?_c('p',{staticClass:\"description\"},[_vm._v(_vm._s(_vm.description))]):_vm._e(),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('p',[_vm._v(\"The artwork on display can be changed by burning UBI tokens via the gallery contract.\"),_c('br'),_c('br'),_vm._v(\" \\n  The price will increase by 24 UBI with each new display, and half every 24 hours.\"),_c('br'),_c('br'),_vm._v(\"\\n  Click below to approve burning UBI with the gallery contract, and then choose a new NFT to display for a cost of \"),(_vm.cost)?_c('span',[_vm._v(_vm._s(_vm.cost))]):_c('span',[_vm._v(\"...\")]),_vm._v(\" UBI. \"),_c('br'),_c('br')]),_vm._v(\" \"),(_vm.connected == false)?_c('div',[_c('button',{on:{\"click\":function($event){return _vm.connectWallet()}}},[_vm._v(\"CONNECT WALLET\")])]):_c('div',{attrs:{\"id\":\"displayWindow\"}},[(_vm.approved == false)?_c('button',{on:{\"click\":function($event){return _vm.approveUBI()}}},[_vm._v(_vm._s(_vm.approveText))]):_c('div',[_c('label',{attrs:{\"for\":\"nft_address\"}},[_vm._v(\"NFT Address\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.new_nft_address),expression:\"new_nft_address\"}],attrs:{\"id\":\"nft_address\",\"type\":\"text\",\"placeholder\":\"0x...\"},domProps:{\"value\":(_vm.new_nft_address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.new_nft_address=$event.target.value}}}),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"nft_id\"}},[_vm._v(\"NFT Number\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.new_nft_id),expression:\"new_nft_id\"}],attrs:{\"id\":\"nft_id\",\"type\":\"number\",\"placeholder\":\"0\"},domProps:{\"value\":(_vm.new_nft_id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.new_nft_id=$event.target.value}}}),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.displayNewNFT()}}},[_vm._v(_vm._s(_vm.displayText))])])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('br'),_c('br'),_vm._v(\" \"),_c('i',[_vm._v(\"UNIVERSAL BASIC GALLERY HAS BURNT \"+_vm._s(_vm.tally/24)+\" DAYS OF UBI\")]),_vm._v(\" \"),_c('br'),_c('br'),_c('br'),_vm._v(\" \"),_c('table',[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.logs),function(log){return _c('tr',[_c('td',[_vm._v(_vm._s(log.blockNumber))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(log.args[1]))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(log.args[2].toString()))])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\"Block\")]),_vm._v(\" \"),_c('th',[_vm._v(\"NFT Address\")]),_vm._v(\" \"),_c('th',[_vm._v(\"NFT ID\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4cf0a524\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LiveNFT.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4cf0a524\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LiveNFT.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LiveNFT.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LiveNFT.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4cf0a524\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LiveNFT.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4cf0a524\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LiveNFT.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <header>UNIVERSAL BASIC GALLERY</header>\n    <!-- <header>ʎɹǝllɐ⅁ ɔısɐᙠ lɐsɹǝʌıu∩</header> -->\n    <LiveNFT/>\n  </div>\n</template>\n\n<script>\nimport LiveNFT from './components/LiveNFT'\n\nexport default {\n  name: 'App',\n  components: {\n    LiveNFT\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('header',[_vm._v(\"UNIVERSAL BASIC GALLERY\")]),_vm._v(\" \"),_c('LiveNFT')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-27c21a7e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-27c21a7e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-27c21a7e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}